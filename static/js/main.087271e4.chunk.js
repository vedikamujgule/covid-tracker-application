(this["webpackJsonptodo-app"]=this["webpackJsonptodo-app"]||[]).push([[0],{186:function(e,t,a){"use strict";a.r(t);var c,r,n=a(0),s=a.n(n),l=a(27),d=a.n(l),i=(a(72),a(73),a(2)),o=a(5),u=a.n(o),j=a(11),b=a(4),p=Object(b.b)("countries/getCountries",Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://covid19.mathdro.id/api/countries");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",{countries:a});case 8:case"end":return e.stop()}}),e)})))),h=Object(b.c)({name:"countries",initialState:{countries:[],loadingStatus:"",selectedCountry:""},reducers:{selectCountry:function(e,t){e.selectedCountry=t.payload.selectedCountry}},extraReducers:(c={},Object(i.a)(c,p.fulfilled,(function(e,t){e.countries=t.payload.countries.countries,e.loadingStatus="success"})),Object(i.a)(c,p.pending,(function(e){e.loadingStatus="loading"})),Object(i.a)(c,p.rejected,(function(e){e.loadingStatus="failed"})),c)}),m=(h.actions.selectCountry,h.reducer),f=a(3),x=Object(b.b)("allDetails/getAllDetailsAsync",Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://covid19.mathdro.id/api");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",{allDetails:a});case 8:case"end":return e.stop()}}),e)})))),O=Object(b.b)("allDetails/getAllDetailsByCountryAsync",function(){var e=Object(j.a)(u.a.mark((function e(t){var a,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://covid19.mathdro.id/api/countries/".concat(t.selectedCountry));case 2:if(!(a=e.sent).ok){e.next=8;break}return e.next=6,a.json();case 6:return c=e.sent,e.abrupt("return",{allDetails:c});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),v=Object(b.c)({name:"allDetails",initialState:{confirmed:"",recovered:"",deaths:"",lastUpdate:""},reducers:{},extraReducers:(r={},Object(i.a)(r,x.fulfilled,(function(e,t){console.log("state",t.payload.allDetails.lastUpdate),e.confirmed=t.payload.allDetails.confirmed.value,e.recovered=t.payload.allDetails.recovered.value,e.deaths=t.payload.allDetails.deaths.value,e.lastUpdate=t.payload.allDetails.lastUpdate})),Object(i.a)(r,O.fulfilled,(function(e,t){e.confirmed=t.payload.allDetails.confirmed.value,e.recovered=t.payload.allDetails.recovered.value,e.deaths=t.payload.allDetails.deaths.value,e.lastUpdate=t.payload.allDetails.lastUpdate})),r)}),y=(v.actions.getDataByCountryId,v.reducer),g=a(1);var D=function(e){var t=e.confirmed,a=e.recovered,c=e.deaths,r=(e.lastUpdate,Object(f.b)());return Object(n.useEffect)((function(){r(x())}),[r]),Object(g.jsxs)("div",{className:"bg-white mt-5",children:[Object(g.jsx)("div",{className:"text-center",children:Object(g.jsx)("h5",{children:"All Details"})}),Object(g.jsx)("div",{className:"py-5",children:Object(g.jsx)("div",{className:"container",children:Object(g.jsxs)("div",{className:"row hidden-md-up",children:[Object(g.jsx)("div",{className:"col-md-4",children:Object(g.jsx)("div",{className:"card",children:Object(g.jsxs)("div",{className:"card-block",children:[Object(g.jsx)("h4",{className:"card-title ",children:"Confirmed"}),Object(g.jsxs)("h6",{className:"card-subtitle text-muted mt-1",children:[" ",t]}),Object(g.jsx)("p",{className:"card-text p-y-1 mt-1",children:"Some quick example text to build on the card title ."})]})})}),Object(g.jsx)("div",{className:"col-md-4",children:Object(g.jsx)("div",{className:"card",children:Object(g.jsxs)("div",{className:"card-block",children:[Object(g.jsx)("h4",{className:"card-title",children:"Recovered"}),Object(g.jsx)("h6",{className:"card-subtitle text-muted mt-1",children:a}),Object(g.jsx)("p",{className:"card-text p-y-1 mt-1",children:"Some quick example text to build on the card title ."})]})})}),Object(g.jsx)("div",{className:"col-md-4",children:Object(g.jsx)("div",{className:"card",children:Object(g.jsxs)("div",{className:"card-block",children:[Object(g.jsx)("h4",{className:"card-title",children:"Deaths"}),Object(g.jsx)("h6",{className:"card-subtitle text-muted mt-1",children:c}),Object(g.jsx)("p",{className:"card-text p-y-1 mt-1",children:"Some quick example text to build on the card title ."})]})})})]})})})]})},k=a(67);var N,w=function(){var e=Object(f.b)();Object(n.useEffect)((function(){e(p())}),[e]);var t=Object(f.c)((function(e){return e.countries.countries})),a=Object(f.c)((function(e){return e.countries.loadingStatus})),c=Object(f.c)((function(e){return e.allDetails.confirmed})),r=Object(f.c)((function(e){return e.allDetails.recovered})),s=Object(f.c)((function(e){return e.allDetails.deaths})),l=Object(f.c)((function(e){return e.allDetails.lastUpdate})),d={labels:["Red","Blue","Yellow","Green","Purple","Orange"],datasets:[{label:"data",data:[c,r,s],backgroundColor:["rgba(255, 99, 132, 0.2)","rgba(54, 162, 235, 0.2)","rgba(255, 206, 86, 0.2)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)"],borderWidth:1,maintainAspectRatio:!1}]};return Object(g.jsx)(g.Fragment,{children:Object(g.jsxs)("div",{className:"container text-center bg-white p-4 mt-5",children:[Object(g.jsxs)("div",{children:[Object(g.jsx)("h1",{children:"Covid Tracker"}),"failed"===a?Object(g.jsx)("p",{children:"Failed to load countries"}):"pending"===a?Object(g.jsx)("p",{children:"loading countries"}):Object(g.jsx)("select",{onChange:function(t){return e(O({selectedCountry:t.target.value}))},children:t.map((function(e){return Object(g.jsx)("option",{value:e.iso3,children:e.name},e.name)}))})]}),Object(g.jsx)(D,{confirmed:c,recovered:r,deaths:s}),Object(g.jsxs)("p",{children:["Data Fetached At : ",new Date(l).toString()]}),Object(g.jsx)("div",{style:{width:"40%",height:"40%"},children:Object(g.jsx)(k.a,{data:d,options:{legend:{display:!1,position:"right"},elements:{arc:{borderWidth:0}}}})})]})})},C=(a(17),Object(b.b)("todos/getTodosAsync",Object(j.a)(u.a.mark((function e(){var t,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("http://localhost:7000/todos");case 2:if(!(t=e.sent).ok){e.next=8;break}return e.next=6,t.json();case 6:return a=e.sent,e.abrupt("return",{todos:a});case 8:case"end":return e.stop()}}),e)}))))),S=Object(b.c)({name:"todos",initialState:[{id:1,title:"todo1",completed:!1},{id:2,title:"todo1",completed:!1},{id:3,title:"todo1",completed:!0}],reducers:{addTodo:function(e,t){var a={id:Date.now(),title:t.payload.title,completed:!1};e.push(a)},markAscompleted:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));e[a].completed=t.payload.completed},deleteTodo:function(e,t){var a=e.findIndex((function(e){return e.id===t.payload.id}));e.splice(a,1)}},extraReducers:(N={},Object(i.a)(N,C.fulfilled,(function(e,t){return console.log("fulfilled"),t.payload.todos})),Object(i.a)(N,C.pending,(function(e,t){return t.payload.message})),N)}),A=S.actions,U=(A.addTodo,A.markAscompleted,A.deleteTodo,S.reducer);var R=function(){return Object(g.jsx)(g.Fragment,{children:Object(g.jsx)(w,{})})},T=Object(b.a)({reducer:{todos:U,countries:m,allDetails:y}});d.a.render(Object(g.jsx)(f.a,{store:T,children:Object(g.jsx)(s.a.StrictMode,{children:Object(g.jsx)(R,{})})}),document.getElementById("root"))},72:function(e,t,a){}},[[186,1,2]]]);
//# sourceMappingURL=main.087271e4.chunk.js.map